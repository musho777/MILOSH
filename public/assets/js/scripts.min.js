function burgerMenu() {
    const e = document.querySelector(".burger"), t = document.querySelector(".menu"),
        r = document.querySelector("body");
    e.addEventListener("click", (() => {
        t.classList.contains("active") ? (t.classList.remove("active"), e.classList.remove("active"), r.classList.remove("locked")) : (t.classList.add("active"), e.classList.add("active"), r.classList.add("locked"))
    })), window.addEventListener("resize", (() => {
        window.innerWidth > 991.98 && (t.classList.remove("active"), e.classList.remove("active"), r.classList.remove("locked"))
    }))
}

burgerMenu();
const wrapper = document.querySelector(".wrapper"), selectBtn = wrapper.querySelector(".search__btn"),
    searchInp = wrapper.querySelector("input"), options = wrapper.querySelector(".options");
let countries = ["Москва", "Санкт-Петербург", "Новосибирск", "Екатеринбург", "Нижний Новгород", "Казань", "Челябинск", "Омск", "Самара", "Ростов-на-Дону", "Уфа", "Красноярск", "Воронеж", "Пермь", "Волгоград", "Краснодар", "Саратов", "Тюмень", "Тольятти", "Ижевск", "Барнаул", "Ульяновск", "Иркутск", "Хабаровск", "Ярославль", "Владивосток", "Махачкала", "Томск", "Оренбург", "Кемерово", "Новокузнецк", "Рязань", "Астрахань", "Набережные Челны", "Пенза", "Киров", "Липецк", "Чебоксары", "Балашиха", "Калининград"];

function addCountry(e) {
    options.innerHTML = "", countries.forEach((t => {
        let r = `<li onclick="updateName(this)" class="${t == e ? "selected" : ""}">${t}</li>`;
        options.insertAdjacentHTML("beforeend", r)
    }))
}

function updateName(e) {
    searchInp.value = "", addCountry(e.innerText), wrapper.classList.remove("active"), selectBtn.firstElementChild.innerText = e.innerText
}

addCountry(), searchInp.addEventListener("keyup", (() => {
    let e = [], t = searchInp.value.toLowerCase();
    e = countries.filter((e => e.toLowerCase().startsWith(t))).map((e => `<li onclick="updateName(this)" class="${e == selectBtn.firstElementChild.innerText ? "selected" : ""}">${e}</li>`)).join(""), options.innerHTML = e || '<p style="margin-top: 10px;">Такого города у нас нет</p>'
})), selectBtn.addEventListener("click", (() => wrapper.classList.toggle("active")));
const searchWrapper = document.querySelector(".hero__search-input"), inputBox = searchWrapper.querySelector("input"),
    suggBox = searchWrapper.querySelector(".autocom-box"), icon = searchWrapper.querySelector(".icon");
let webLink, linkTag = searchWrapper.querySelector("a");

function select(e) {
    let t = e.textContent;
    inputBox.value = t, icon.onclick = () => {
        webLink = `https://www.google.com/search?q=${t}`, linkTag.setAttribute("href", webLink), linkTag.click()
    }, searchWrapper.classList.remove("active")
}

function showSuggestions(e) {
    let t;
    e.length ? t = e.join("") : (userValue = inputBox.value, t = `<li>${userValue}</li>`), suggBox.innerHTML = t
}

inputBox.onkeyup = e => {
    let t = e.target.value, r = [];
    if (t) {
        icon.onclick = () => {
            webLink = `https://www.google.com/search?q=${t}`, linkTag.setAttribute("href", webLink), linkTag.click()
        }, r = suggestions.filter((e => e.toLocaleLowerCase().startsWith(t.toLocaleLowerCase()))), r = r.map((e => `<li>${e}</li>`)), searchWrapper.classList.add("active"), showSuggestions(r);
        let e = suggBox.querySelectorAll("li");
        for (let t = 0; t < e.length; t++) e[t].setAttribute("onclick", "select(this)")
    } else searchWrapper.classList.remove("active")
};
let suggestions = ["Chak", "YouTube", "Blogger", "Bollywood", "Vlogger", "Vechiles", "Facebook", "Freelancer", "Designer", "Web Designer", "Login Form in HTML & CSS", "How to start YouTube Channel", "What does CSS stands for?"];
document.addEventListener("DOMContentLoaded", (function () {
    new Swiper(".mySwiper", {
        slidesPerView: 4,
        slidesPerGroup: 4,
        spaceBetween: 24,
        navigation: {nextEl: ".swiper-button-next", prevEl: ".swiper-button-prev"},
        breakpoints: {
            320: {slidesPerView: 1, slidesPerGroup: 1},
            640: {slidesPerView: 2, slidesPerGroup: 2},
            960: {slidesPerView: 3, slidesPerGroup: 3},
            1280: {slidesPerView: 4, slidesPerGroup: 4}
        }
    })
}));
